{"remainingRequest":"/Users/robert/project/vue/UniversalVue/UniversalVue/node_modules/babel-loader/lib/index.js!/Users/robert/project/vue/UniversalVue/UniversalVue/src/utils/index.js","dependencies":[{"path":"/Users/robert/project/vue/UniversalVue/UniversalVue/src/utils/index.js","mtime":1584947584999},{"path":"/Users/robert/project/vue/UniversalVue/UniversalVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robert/project/vue/UniversalVue/UniversalVue/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _typeof from \"/Users/robert/project/vue/UniversalVue/UniversalVue/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\n\n/**\n * Created by jiachenpan on 16/11/18.\n */\nexport function parseTime(time, cFormat) {\n  if (arguments.length === 0) {\n    return null;\n  }\n\n  var format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}';\n  var date;\n\n  if (_typeof(time) === 'object') {\n    date = time;\n  } else {\n    if (('' + time).length === 10) time = parseInt(time) * 1000;\n    date = new Date(time);\n  }\n\n  var formatObj = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay()\n  };\n  var time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, function (result, key) {\n    var value = formatObj[key];\n    if (key === 'a') return ['一', '二', '三', '四', '五', '六', '日'][value - 1];\n\n    if (result.length > 0 && value < 10) {\n      value = '0' + value;\n    }\n\n    return value || 0;\n  });\n  return time_str;\n}\nexport function formatTime(time, option) {\n  time = +time * 1000;\n  var d = new Date(time);\n  var now = Date.now();\n  var diff = (now - d) / 1000;\n\n  if (diff < 30) {\n    return '刚刚';\n  } else if (diff < 3600) {\n    // less 1 hour\n    return Math.ceil(diff / 60) + '分钟前';\n  } else if (diff < 3600 * 24) {\n    return Math.ceil(diff / 3600) + '小时前';\n  } else if (diff < 3600 * 24 * 2) {\n    return '1天前';\n  }\n\n  if (option) {\n    return parseTime(time, option);\n  } else {\n    return d.getMonth() + 1 + '月' + d.getDate() + '日' + d.getHours() + '时' + d.getMinutes() + '分';\n  }\n}\n/**\n * 树形数据转换\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\n\nexport function treeDataTranslate(data) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id';\n  var pid = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'parentId';\n  var res = [];\n  var temp = {};\n\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i];\n  }\n\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = [];\n      }\n\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1;\n      }\n\n      data[k]['_level'] = temp[data[k][pid]]._level + 1;\n      temp[data[k][pid]]['children'].push(data[k]);\n    } else {\n      res.push(data[k]);\n    }\n  }\n\n  return res;\n}\n/**\n * 树形数据转换\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\n\nexport function treeTranslate(data, id, pid) {\n  var res = [];\n  var temp = {};\n\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i];\n  }\n\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = [];\n      }\n\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1;\n      }\n\n      data[k]['_level'] = temp[data[k][pid]]._level + 1;\n      temp[data[k][pid]]['children'].push(data[k]);\n    } else {\n      res.push(data[k]);\n    }\n  }\n\n  return res;\n}\n/**\n * 树形数据转换 推荐关系用\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\n\nexport function treeRefereeTranslate(data) {\n  var res = [];\n  var temp = {};\n  var id = 'username';\n  var pid = 'referee';\n\n  for (var i = 0; i < data.length; i++) {\n    data[i]['id'] = i;\n    temp[data[i][id]] = data[i];\n  }\n\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = [];\n      }\n\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1;\n      }\n\n      data[k]['_level'] = temp[data[k][pid]]._level + 1;\n      temp[data[k][pid]]['children'].push(data[k]);\n    } else {\n      res.push(data[k]);\n    }\n  }\n\n  return res;\n}\nexport function formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n\n  var o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  };\n\n  for (var k in o) {\n    if (new RegExp(\"(\".concat(k, \")\")).test(fmt)) {\n      var str = o[k] + '';\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\n    }\n  }\n\n  return fmt;\n}\n;\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length);\n}",{"version":3,"sources":["/Users/robert/project/vue/UniversalVue/UniversalVue/src/utils/index.js"],"names":["parseTime","time","cFormat","arguments","length","format","date","parseInt","Date","formatObj","y","getFullYear","m","getMonth","d","getDate","h","getHours","i","getMinutes","s","getSeconds","a","getDay","time_str","replace","result","key","value","formatTime","option","now","diff","Math","ceil","treeDataTranslate","data","id","pid","res","temp","k","_level","push","treeTranslate","treeRefereeTranslate","formatDate","fmt","test","RegExp","$1","substr","o","str","padLeftZero"],"mappings":"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","sourcesContent":["/**\n * Created by jiachenpan on 16/11/18.\n */\n\nexport function parseTime(time, cFormat) {\n  if (arguments.length === 0) {\n    return null\n  }\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\n  let date\n  if (typeof time === 'object') {\n    date = time\n  } else {\n    if (('' + time).length === 10) time = parseInt(time) * 1000\n    date = new Date(time)\n  }\n  const formatObj = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay()\n  }\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n    let value = formatObj[key]\n    if (key === 'a') return ['一', '二', '三', '四', '五', '六', '日'][value - 1]\n    if (result.length > 0 && value < 10) {\n      value = '0' + value\n    }\n    return value || 0\n  })\n  return time_str\n}\n\nexport function formatTime(time, option) {\n  time = +time * 1000\n  const d = new Date(time)\n  const now = Date.now()\n\n  const diff = (now - d) / 1000\n\n  if (diff < 30) {\n    return '刚刚'\n  } else if (diff < 3600) { // less 1 hour\n    return Math.ceil(diff / 60) + '分钟前'\n  } else if (diff < 3600 * 24) {\n    return Math.ceil(diff / 3600) + '小时前'\n  } else if (diff < 3600 * 24 * 2) {\n    return '1天前'\n  }\n  if (option) {\n    return parseTime(time, option)\n  } else {\n    return d.getMonth() + 1 + '月' + d.getDate() + '日' + d.getHours() + '时' + d.getMinutes() + '分'\n  }\n}\n\n/**\n * 树形数据转换\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\nexport function treeDataTranslate(data, id = 'id', pid = 'parentId') {\n  var res = []\n  var temp = {}\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i]\n  }\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = []\n      }\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1\n      }\n      data[k]['_level'] = temp[data[k][pid]]._level + 1\n      temp[data[k][pid]]['children'].push(data[k])\n    } else {\n      res.push(data[k])\n    }\n  }\n  return res\n}\n\n/**\n * 树形数据转换\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\nexport function treeTranslate(data, id, pid) {\n  var res = []\n  var temp = {}\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i]\n  }\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = []\n      }\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1\n      }\n      data[k]['_level'] = temp[data[k][pid]]._level + 1\n      temp[data[k][pid]]['children'].push(data[k])\n    } else {\n      res.push(data[k])\n    }\n  }\n  return res\n}\n\n/**\n * 树形数据转换 推荐关系用\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\nexport function treeRefereeTranslate(data) {\n  var res = [];\n  var temp = {};\n  var id = 'username';\n  var pid = 'referee';\n  for (var i = 0; i < data.length; i++) {\n    data[i]['id'] = i;\n    temp[data[i][id]] = data[i];\n  }\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = []\n      }\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1\n      }\n      data[k]['_level'] = temp[data[k][pid]]._level + 1\n      temp[data[k][pid]]['children'].push(data[k])\n    } else {\n      res.push(data[k])\n    }\n  }\n  return res\n}\n\nexport function formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  let o = {\n      'M+': date.getMonth() + 1,\n      'd+': date.getDate(),\n      'h+': date.getHours(),\n      'm+': date.getMinutes(),\n      's+': date.getSeconds()\n  };\n  for (let k in o) {\n      if (new RegExp(`(${k})`).test(fmt)) {\n          let str = o[k] + '';\n          fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\n      }\n  }\n  return fmt;\n};\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length);\n}\n"]}]}